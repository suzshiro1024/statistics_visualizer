# statistics_visualizer

野球の成績をグラフで可視化するツール。

グラフ描画はRubyGemsのGruffを利用。

# 何ができるの?

野球選手の成績データ(CSVのようなコンマ区切り)のファイルを読み込み、

**投手の場合は**

- 防御率(ERA)
- K/BB
- WHIP

の3つの指標を、

**野手の場合は**

- 打率(AVG)
- 出塁率(OBP)
- 長打率(SLG)
- GPA
- BABIP
- wOBA

の6つの指標を計算してグラフ化する。

## 大体の動き

1. 起動するとモード選択がある。投手モードは0,野手モードは1となる。
2. ファイル名を記入する。ファイルパスはsrcの一つ上にデータファイルがある状態を想定しているが、今後変更する可能性が高い。
3. 指定されたファイルの中身を読み込み、指標の計算を行う。
4. 計算した指標を使ってグラフを描画する。なおpngで出力する。データファイルと同じ階層に出力されるようにしている。

# 動作環境

- Ruby 2.7.0
- ImageMagick 6.9.10
- gruff 0.14.0

ImageMagickとgruffは各自インストールが必要です。

# 使用例
- 現在の出力画像とは異なります。データラベルは**選手名+年度**が付くようになっています。

![](https://user-images.githubusercontent.com/89633058/136235203-e7936ca2-9369-4a92-b09e-ef5888761e22.png)

# ToDo

- 軸によってレンジを変化させることで、NOIとAVGのような数値の大きさが全く違う指標を1つのグラフで比較できるようにしたい。
- 同じく軸のレンジを変化させることで、グラフの不格好さも改善したい。
    - 離散化処理で改善できるかも？
- ~~data1,data2では味気ないので選手名と年度数をtxtファイルに要求してシンボル名をわかりやすくしたい。~~ → 2021年10月8日実装